# Effective Java（三）

### 类和接口

### 十五、最小化类和成员的可访问性

对于成员（field，method，nested class和nested interface），有四种访问级别，以下按照可访问性递增排列：

1. 私有的（private），只有声明该成员的顶层类内部能访问；
2. 包级私有的（package-private），缺省访问级别，声明该成员的包内部任何类都能访问；
3. 受保护的（protected），声明该成员的类的子类和包内部任何类可以访问；
4. 公有的（public），任何类都能访问。

### 十六、在公有类中，使用访问方法而不是公有的field

如果类是包级私有的，或者是私有的嵌套类， 直接暴露它的数据域并没有本质的错误。

如果类可以在它所在的包之外进行访问，就提供访问方法。

### 十七、最小化可变形

### 十八、复合优于继承

### 十九、要么设计继承并提供文档说明，要么禁止即成

### 二十、接口优于抽象类

通过对接口提供一个抽象的骨架实现（skeletal implementation）类，可以把接口和抽象类的优点结合起来。接口负责定义类型，或许还提供一些缺省方法，而骨架实现类则负责实现除基本类型接口方法之外，剩下的非基本类型接口方法。扩展骨架实现占了实现接口之外的大部分工作。这就是模板方法。

按照惯例，骨架实现类被称为Abstract${interface}，这里的Interface 是指所实现的接口的名字。例如，Collections Framework 为每个重要的集合接口都提供了一个骨架实现，包括AbstractCollection 、AbstractSet 、AbstractList 和AbstractMap。

### 二十四、静态成员类优于非静态成员类

嵌套类有四种：

1. 静态成员类
2. 非静态成员类
3. 匿名类
4. 局部类

静态成员类可以看作碰巧被声明在另一个类内部的普通类，它可以访问外围类的所有成员，同时它也是外部类的一个成员，遵守相同的可访问规则。

非静态成员类的每一个实例都隐含的与外围类的一个实例相关联。

非静态成员类的一种常见用法是定义一个Adapter，它允许外部类的实例被看作是另一个不相关的类的实例。

如果声明成员类不要求访问外围实例，就要始终把修饰符static 放在它的声明中，使它成为静态成员类。